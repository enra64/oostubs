
  digraph task1 {
    size="5.9,5.5";
    node [shape=box, style="solid,filled", fillcolor=white];
    
    
    kernel [label="kernel(...)", shape=oval, URL="\ref kernel"];
    
    subgraph cluster_subuser {
      rank="source";
      style=filled;
      color=lightgray;
      label = "user";
      labeljust=l;
      task4 [label="Task4", URL="\ref Task4"];
      rotcursor [label="RotCursor", URL="\ref Task4::RotCursor"];
      counter [label="Counter", URL="\ref Task4::Counter"];
      appl [label="Application", URL="\ref Application"];
    }
    
    subgraph cluster_submachine {
      style=filled;
      color=lightgray;
      label = "machine";
      labeljust=r;
      pit       [label="PIT", URL="\ref PIT", color=blue];
      context   [label="Context", URL="\ref Context"];
    }

    subgraph cluster_subcommon {
      style=filled;
      color=lightgray;
      label = "common";
      labeljust=c;
      queue [label="Queue", URL="\ref Queue"];
      elem  [label="Queue::Element", URL="\ref Queue::Element"];
    }
    
    subgraph cluster_subdevice {
      style=filled;
      color=lightgray;
      label = "device";
      labeljust=c;
      watch [label="Watch", URL="\ref Watch", color=blue];
      log   [label="Log", URL="\ref Log"]
    }

    subgraph cluster_subthread {
      style=filled;
      color=lightgray;
      label = "thread";
      labeljust=c;
      thread [label="Thread", URL="\ref Thread", color=blue];
      dispatcher [label="Dispatcher", URL="\ref Dispatcher", color=blue];
      schedulerC [label="Scheduler", URL="\ref Scheduler", color=blue];
    }

    subgraph cluster_sublocking {
      style=filled;
      color=lightgray;
      label = "locking";
      labeljust=c;
      interruptlock [label="InterruptLock", URL="\ref InterruptLock"];
      scopedlock [label="ScopedLock", URL="\ref ScopedLock"];
    }

    subgraph cluster_subobject{
      style=filled;
      color=lightgray;
      label = "object";
      labeljust=c;
      lock [label="lock", URL="\ref lock"];
      schedulerO [label="scheduler", URL="\ref scheduler"];
    }
    
    watch -> pit [arrowhead="empty"];
    lock -> interruptlock [dir="none"];
    scopedlock -> lock [arrowhead="open"];
    schedulerC -> dispatcher [arrowhead="empty"];
    schedulerC -> queue [dir="none"];
    schedulerC -> thread [dir="none"];
    schedulerO -> schedulerC [arrowhead="open"];
    thread -> context [dir="none"];
    kernel -> schedulerO [arrowhead="open"];
    watch -> schedulerO [arrowhead="open"];
    schedulerC -> scopedlock [dir="none"];
    thread -> lock [arrowhead="open"];
    thread -> elem [arrowhead="empty"];
    queue -> elem [dir="none"];
    task4 -> appl [arrowhead="empty"];
    appl -> thread [arrowhead="empty"];
    rotcursor -> appl [arrowhead="empty"];
    counter -> appl [arrowhead="empty"];
    task4 -> rotcursor [dir="none"];
    task4 -> counter [dir="none"];
    }
    